% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/pipeline_functions.R
\name{mat_to_nii}
\alias{mat_to_nii}
\title{Convert a matrix to a 4D NIfTI image}
\usage{
mat_to_nii(mat, ni_out = "mat", fsl_img = NULL)
}
\arguments{
\item{mat}{A numeric matrix or data frame with dimensions \code{time x variables}.}

\item{ni_out}{Output filename (without extension) for the resulting NIfTI image.}
}
\value{
The function invisibly returns \code{NULL}. A NIfTI file is written to \code{ni_out}.
}
\description{
Writes a numeric matrix (e.g., confound regressors) to a 4D NIfTI file with singleton y and z dimensions,
suitable for processing with FSL tools. Each column becomes a voxel in the x dimension, and each row
corresponds to a time point (t dimension).
}
\details{
This function creates a NIfTI image using FSLâ€™s \code{fslcreatehd}, fills it using \code{oro.nifti},
and writes it back to disk with dimensions \code{[x, 1, 1, time]}. Missing values are replaced with zero.
}
\keyword{internal}
